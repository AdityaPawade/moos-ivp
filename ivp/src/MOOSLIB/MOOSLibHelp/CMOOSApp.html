<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
   <TITLE>class  CMOOSApp</TITLE>
   <META NAME="GENERATOR" CONTENT="DOC++ 3.4.6">
</HEAD>
 <BODY>
<H1><img src="moose6.gif"> <center>MOOSLib Class Documentation</center></H1>
</BODY>

In file MOOSApp.h:<H2>class  <A HREF="#DOC.DOCU">CMOOSApp</A></H2></H2><BLOCKQUOTE>This is a class from which all MOOS component applications should be derived </BLOCKQUOTE>
<HR>

<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   bool <B><A HREF="#DOC.7.1">OnConnectToServer</A></B>()
<DD><I>Called when the class has succesully connected to the server.</I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>void <B><A HREF="#DOC.7.2">SetServer</A></B>(const char*  sServerHost="LOCALHOST", long lPort=9000)
<DD><I>Called to set the MOOS server info  </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>bool <B><A HREF="#DOC.7.3">Run</A></B>( char*  sName, unsigned int nFreq=DEFAULT_MOOS_APP_FREQ, unsigned int nCommsFreq=DEFAULT_MOOS_APP_COMMS_FREQ)
<DD><I>called to start the application </I>
</DL></P>

<P><DL>
<DT><H3>Protected Fields</H3><DD><DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>long <B><A HREF="#DOC.7.4">m_lServerPort</A></B>
<DD><I>Port on which server application listens for new connection </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>string <B><A HREF="#DOC.7.5">m_sServerHost</A></B>
<DD><I>name of machine on which MOOS Server resides </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>string <B><A HREF="#DOC.7.6">m_sAppName</A></B>
<DD><I>name of this application </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>unsigned int <B><A HREF="#DOC.7.7">m_nCommsFreq</A></B>
<DD><I>frequency at which server will be contacted </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>unsigned int <B><A HREF="#DOC.7.8">m_nFreq</A></B>
<DD><I>frequency at which this application will iterate </I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif><!1><A HREF="CMOOSCommClient.html">CMOOSCommClient</A> <B><A HREF="#DOC.7.11">m_Comms</A></B>
<DD><I>The comms node.</I>
</DL></P>

<P><DL>
<DT><H3>Protected Methods</H3><DD><DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   bool <B><A HREF="#DOC.7.9">Iterate</A></B>()
<DD><I>called when the application should iterate.</I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   bool <B><A HREF="#DOC.7.10">OnNewMail</A></B>(MOOSMSG_LIST &amp; NewMail)
<DD><I>called when new mail has arrived.</I>
</DL></P>

</DL>

<A NAME="DOC.DOCU"></A>
<HR>
<H2>Documentation</H2>
<BLOCKQUOTE>This is a class from which all MOOS component applications should be derived </BLOCKQUOTE>
<DL>

<A NAME="OnConnectToServer"></A>
<A NAME="DOC.7.1"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool OnConnectToServer()</B></TT>
<DD>Called when the class has succesully connected to the server. Overload this function
and place use it to register for notification when variables of interest change 
<DL><DT><DD></DL><P>
<A NAME="SetServer"></A>
<A NAME="DOC.7.2"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>void SetServer(const char*  sServerHost="LOCALHOST", long lPort=9000)</B></TT>
<DD>Called to set the MOOS server info 

<DL><DT><DT><B>Parameters:</B><DD><B>sServerHost</B> -  name of the machine hosting the server application
<BR><B>lPort</B> -  port nuymber that server listens on<BR><DD></DL><P>
<A NAME="Run"></A>
<A NAME="DOC.7.3"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>bool Run( char*  sName, unsigned int nFreq=DEFAULT_MOOS_APP_FREQ, unsigned int nCommsFreq=DEFAULT_MOOS_APP_COMMS_FREQ)</B></TT>
<DD>called to start the application

<DL><DT><DT><B>Parameters:</B><DD><B>sName</B> -  The name of this application (must be unique amoungst MOOS components
<BR><B>nFreq</B> -  the frequency of teh Application (how often <!1><A HREF="CMOOSApp.html#DOC.7.9">Iterate</A> will be called)
<BR><B>nCommsFreq</B> -  the freqeuncy of the IO loop. How often the server will be contact to collect mail<BR><DD></DL><P>
<A NAME="m_lServerPort"></A>
<A NAME="DOC.7.4"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>long m_lServerPort</B></TT>
<DD>Port on which server application listens for new connection 
<DL><DT><DD></DL><P>
<A NAME="m_sServerHost"></A>
<A NAME="DOC.7.5"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>string m_sServerHost</B></TT>
<DD>name of machine on which MOOS Server resides 
<DL><DT><DD></DL><P>
<A NAME="m_sAppName"></A>
<A NAME="DOC.7.6"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>string m_sAppName</B></TT>
<DD>name of this application 
<DL><DT><DD></DL><P>
<A NAME="m_nCommsFreq"></A>
<A NAME="DOC.7.7"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>unsigned int m_nCommsFreq</B></TT>
<DD>frequency at which server will be contacted 
<DL><DT><DD></DL><P>
<A NAME="m_nFreq"></A>
<A NAME="DOC.7.8"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>unsigned int m_nFreq</B></TT>
<DD>frequency at which this application will iterate 
<DL><DT><DD></DL><P>
<A NAME="Iterate"></A>
<A NAME="DOC.7.9"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool Iterate()</B></TT>
<DD>called when the application should iterate. Overload this function in a derived class
and within it write all the application specific code. It will be called at approximately
nFreq Hz
<DL><DT><DD></DL><P>
<A NAME="OnNewMail"></A>
<A NAME="DOC.7.10"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   bool OnNewMail(MOOSMSG_LIST &amp; NewMail)</B></TT>
<DD>called when new mail has arrived. Overload this method in a derived class to process new mail.
It will be called at approximately nCommsFreq Hz

<DL><DT><DT><B>Parameters:</B><DD><B>NewMail</B> -  a list of new mail messages<BR><DD></DL><P>
<A NAME="m_Comms"></A>
<A NAME="DOC.7.11"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B><!1><A HREF="CMOOSCommClient.html">CMOOSCommClient</A> m_Comms</B></TT>
<DD>The comms node. All communications happens by way of this object
<DL><DT><DD></DL><P></DL>

<HR><DL><DT><B>This class has no child classes.</B></DL>

<DL><DT><DD></DL><P><P><I><A HREF="index.html">Alphabetic index</A></I> <I><A HREF="HIER.html">HTML hierarchy of classes</A> or <A HREF="HIERjava.html">Java</A></I></P><HR>
<BODY>
<H4>
MOOSLib
&#169;  P. Newman 2001 <img src="moose2.gif">
</H4>
</BODY>
